#ifndef PSRDADA_CPP_MEERKAT_FBFUSE_CONSTANTS_HPP
#define PSRDADA_CPP_MEERKAT_FBFUSE_CONSTANTS_HPP

#define FBFUSE_TOTAL_NANTENNAS 64        // The total number of antennas in the input DADA buffer
#define FBFUSE_NCHANS 64               // The number of channels to be processes by this instance
#define FBFUSE_NCHANS_TOTAL 4096        // This is the F-engine channel count
#define FBFUSE_NSAMPLES_PER_HEAP 256
#define FBFUSE_NPOL 2

#define FBFUSE_CB_TSCRUNCH 16
#define FBFUSE_CB_FSCRUNCH 1
#define FBFUSE_CB_NANTENNAS 44
#define FBFUSE_CB_ANTENNA_OFFSET 0
#define FBFUSE_CB_NBEAMS 1024
#define FBFUSE_CB_NTHREADS 1024
#define FBFUSE_CB_WARP_SIZE 32
#define FBFUSE_CB_NWARPS_PER_BLOCK (FBFUSE_CB_NTHREADS/FBFUSE_CB_WARP_SIZE)
#define FBFUSE_CB_NSAMPLES_PER_BLOCK (FBFUSE_CB_TSCRUNCH*FBFUSE_CB_NTHREADS / FBFUSE_CB_WARP_SIZE)
#define FBFUSE_CB_PACKET_SIZE 8192      //Do not change
#define FBFUSE_CB_HEAP_SIZE 8192
#define FBFUSE_CB_NCHANS_OUT FBFUSE_NCHANS / FBFUSE_CB_FSCRUNCH
#define FBFUSE_CB_NCHANS_PER_PACKET FBFUSE_CB_NCHANS_OUT
#define FBFUSE_CB_NSAMPLES_PER_PACKET (FBFUSE_CB_PACKET_SIZE / FBFUSE_CB_NCHANS_PER_PACKET)
#define FBFUSE_CB_NPACKETS_PER_HEAP (FBFUSE_CB_HEAP_SIZE / FBFUSE_CB_PACKET_SIZE)
#define FBFUSE_CB_NSAMPLES_PER_HEAP (FBFUSE_CB_NPACKETS_PER_HEAP * FBFUSE_CB_NSAMPLES_PER_PACKET)

#define FBFUSE_IB_TSCRUNCH 16
#define FBFUSE_IB_FSCRUNCH 1
#define FBFUSE_IB_NANTENNAS 64
#define FBFUSE_IB_ANTENNA_OFFSET 0
#define FBFUSE_IB_NBEAMS 1
#define FBFUSE_IB_NSAMPLES_PER_BLOCK (FBFUSE_IB_TSCRUNCH*FBFUSE_IB_NTHREADS / FBFUSE_IB_WARP_SIZE)
#define FBFUSE_IB_PACKET_SIZE 8192      //Do not change
#define FBFUSE_IB_HEAP_SIZE 8192
#define FBFUSE_IB_NCHANS_OUT FBFUSE_NCHANS / FBFUSE_IB_FSCRUNCH
#define FBFUSE_IB_NCHANS_PER_PACKET FBFUSE_IB_NCHANS_OUT
#define FBFUSE_IB_NSAMPLES_PER_PACKET (FBFUSE_IB_PACKET_SIZE / FBFUSE_IB_NCHANS_PER_PACKET)
#define FBFUSE_IB_NPACKETS_PER_HEAP (FBFUSE_IB_HEAP_SIZE / FBFUSE_IB_PACKET_SIZE)
#define FBFUSE_IB_NSAMPLES_PER_HEAP (FBFUSE_IB_NPACKETS_PER_HEAP * FBFUSE_IB_NSAMPLES_PER_PACKET)

#endif //PSRDADA_CPP_MEERKAT_FBFUSE_CONSTANTS_HPP
